<%- include ('../partial/header') %>

<h1 class="h3 mb-4 text-gray-800">Order Edit Form</h1>
<form action="/orders/<%= order.orderId %>/edit?_method=PUT" method="POST">
  <div class="form-row">
    <div class="form-group col-md-4">
      <label for="name">Customer Name</label>
      <input type="text" class="form-control" id="name" value="<%= order.name %>" name="name" disabled />
    </div>
    <div class="form-group col-md-4">
      <label for="project">Project Name</label>
      <input type="text" class="form-control" id="project" value="<%= order.project %>" name="project" />
    </div>
    <div class="form-group col-md-4">
      <label for="location">Location</label>
      <input type="text" class="form-control" id="location" value="<%= order.location %>" name="location" />
    </div>
  </div>

  <div class="form-row">
    <div class="form-group col-md-3">
      <label for="orderId">Order ID</label>
      <input type="text" class="form-control" id="orderId" value="<%= order.orderId %>" disabled />
    </div>
    <div class="form-group col-md-3">
      <label for="date">Order Date</label>
      <input type="text" class="form-control" id="date" value="<%= moment(order.date).format('YYYY/MM/DD') %>" disabled />
    </div>
    <div class="form-group col-md-3">
      <label for="crmId">CRM Order ID</label>
      <input type="text" class="form-control" id="crmId" value="<%= order.crmId %>" disabled />
    </div>
    <div class="form-group col-md-3">
      <label for="lcId">Leased CCT ID</label>
      <input type="text" class="form-control" id="lcId" value="<%= order.lcId %>" disabled />
    </div>
  </div>

  <div class="form-row">
    <div class="form-group col-md-3">
      <label for="cctType">Leased Type</label>
      <input type="text" class="form-control" id="cctType" value="<%= order.cctType %>" disabled />
    </div>
    <div class="form-group col-md-3">
      <label for="orderType">Order Type</label>
      <input type="text" class="form-control" id="orderType" value="<%= order.orderType %>" disabled />
    </div>
    <div class="form-group col-md-6">
      <label for="orderSubType">Order Sub Type</label>
      <input type="text" class="form-control" id="orderSubType" value="<%= order.orderSubType %>" disabled />
    </div>
  </div>

  <div class="form-row">
    <div class="form-group col-md-3">
      <label for="bandwidth">Bandwidth</label>
      <input type="text" class="form-control" id="bandwidth" value="<%= order.bandwidth %>" disabled />
    </div>
    <div class="form-group col-md-3">
      <label for="prevBandwidth">Previous Bandwidth</label>
      <input type="text" class="form-control" id="prevBandwidth" value="<%= order.prevBandwidth %>" disabled />
    </div>
    <div class="form-group col-md-2">
      <label for="agency">Agency</label>
      <select class="form-control form-control-option" id="agency" name="agency" required>
        <option value="<%= order.agency %>"><%= order.agency %></option>
        <% agencies.forEach((agency) =>{ %>
        <option value="<%= agency %>"><%= agency %></option>
        <% }) %>
      </select>
    </div>
    <div class="form-group col-md-4">
      <label for="reason">Pending Reason</label>
      <select class="form-control form-control-option" id="reason" name="reason" required>
        <option value="<%= order.reason %>"><%= order.reason %></option>
        <% reasons.forEach((reason) =>{ %>
        <option value="<%= reason %>"><%= reason %></option>
        <% }) %>
      </select>
    </div>
  </div>

  <div class="form-row">
    <div class="form-group col-md-2">
      <label for="endAStation">End-A Station</label>
      <input type="text" class="form-control" id="endAStation" value="<%= order.endAStation %>" disabled />
    </div>
    <div class="form-group col-md-10">
      <label for="endAAddress">End-A Address</label>
      <input type="text" class="form-control" id="endAAddress" value="<%= order.endAAddress %>" name="endAAddress" <%=
      order.endAStation.length ? "" : "disabled" %>/>
    </div>
  </div>

  <div class="form-row">
    <div class="form-group col-md-2">
      <label for="endBStation">End-B Station</label>
      <input type="text" class="form-control" id="endBStation" value="<%= order.endBStation %>" disabled />
    </div>
    <div class="form-group col-md-10">
      <label for="endBAddress">End-B Address</label>
      <input type="text" class="form-control" id="endBAddress" value="<%= order.endBAddress %>" name="endBAddress" <%=
      order.endBStation.length ? "" : "disabled" %>/>
    </div>
  </div>

  <div class="form-row">
    <div class="form-group col">
      <label for="remark">Remark</label>
      <input type="text" class="form-control" id="remark" value="<%= order.remark %>" name="remark" />
    </div>
  </div>
  <div class="form-row">
    <div class="form-group col">
      <button type="submit" class="btn btn-primary btn-icon-split">
        <span class="icon text-white-50"><i class="fas fa-flag"></i></span><span class="text">Save Order</span>
      </button>
    </div>
  </div>
</form>

<%- include ('../partial/footer') %>
